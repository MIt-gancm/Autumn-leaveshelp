---
title: Android 环境
createTime: 2025/02/07 14:31:14
permalink: /article/cvo9n6v5/
---

# Android 环境

## 目录
1. [PRoot 容器管理](#proot-容器管理)
   - [目的和范围](#目的和范围)
   - [容器安装过程](#容器安装过程)
     - [架构检测](#架构检测)
   - [容器设置和优化](#容器设置和优化)
   - [启动 PRoot 容器](#启动-proot-容器)
   - [删除 PRoot 容器](#删除-proot-容器)
2. [Android 实用程序](#android-实用程序)
   - [包源管理](#包源管理)
     - [功能性](#功能性)
   - [垃圾回收](#垃圾回收)
     - [功能性](#功能性-1)

## PRoot 容器管理

### 目的和范围
本文档提供了 Autumn-leaves 的 PRoot 容器管理系统的技术文档。它涵盖了 PRoot 容器的安装、启动和删除，特别是在 Android 设备上。有关 Linux 环境实用程序的信息，请参阅 Linux 环境。

PRoot 容器管理使用户能够使用 PRoot 技术在 Android 环境中运行 Linux 发行版，该技术提供类似 chroot 的解决方案，而无需 root 权限。

### 容器安装过程
安装过程从检测设备架构开始，然后为用户提供要安装的 Linux 发行版和版本的选择。

#### 架构检测
系统会自动检测设备的架构，以确保与所选 Linux 发行版兼容。

#### 可用的操作系统

| 发行版 | 版本                             | 用途                  | 
| :---   | :---                             | :---                 |
| Debian | Buster （10）、Bullseye （11）、Bookworm （12） | 仅"QQ 机器人"       |
| Ubuntu | Jammy （22.04 LTS）、Noble （24.04 LTS）、Oracular （25.10 | 适用于几乎所有环境 |
| Rockylinux | Rockylinux 8 、 Rockylinux 9 | 爱折腾很多人       |
| Centos | Centos 9 stream       |爱折腾很多人       |

### 容器设置和优化
下载 rootfs 后，系统：

1. 将 tar 包解压到容器目录
2. 将必要的脚本文件复制到容器中
3. 设置虚拟 proc 文件以实现系统兼容性
4. 在容器内运行优化脚本

### 启动 PRoot 容器
该函数处理现有容器的启动。它首先显示可用容器的列表，然后启动具有大量系统绑定的所选容器：`start_proot()`。

### 删除 PRoot 容器
删除过程包括防止意外删除的验证步骤，用户需解决一个简单的两位数计算题作为确认。

## Android 实用程序

Autumn-leaves 中的 Android Utilities 提供了用于优化和维护 Android 环境的补充工具。本页记录了专为基于 Android 的环境设计的实用程序，重点介绍包源管理和垃圾回收。

### 包源管理
Package Source Manager 实用程序允许用户自动为 Termux 存储库选择最快的包镜像。这优化了软件包安装和更新的下载速度。

#### 功能性
1. **速度测试**：该函数测试多个预定义的镜像，以确定哪个镜像提供最快的下载速度。
2. **源选择**：根据速度测试结果，系统会建议最快的镜像。
3. **源配置**：在用户确认后，该函数会使用所选镜像更新 Termux sources.list 文件。

### 垃圾回收
垃圾回收实用程序管理和清理临时文件和下载的文件，以释放设备上的存储空间。

#### 功能性
- **文件列表**：显示指定下载目录中的已下载文件列表。
- **文件删除**：在用户确认后，从下载目录中删除所有文件。