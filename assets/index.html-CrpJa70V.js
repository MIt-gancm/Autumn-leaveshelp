import{_ as a,c as n,b as i,o as e}from"./app-CB1f21Ch.js";const p={};function l(t,s){return e(),n("div",null,s[0]||(s[0]=[i(`<h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ol><li><a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">准备工作</a><ul><li><a href="#java%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">Java环境配置</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A0%B8%E5%BF%83%E9%80%89%E6%8B%A9">服务器核心选择</a></li></ul></li><li><a href="#linux%E7%B3%BB%E7%BB%9F%E5%BC%80%E6%9C%8D%E6%95%99%E7%A8%8B">Linux系统开服教程</a></li><li><a href="#windows%E7%B3%BB%E7%BB%9F%E5%BC%80%E6%9C%8D%E6%95%99%E7%A8%8B">Windows系统开服教程</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3">服务器核心配置详解</a><ul><li><a href="#vanilla%E5%AE%98%E6%96%B9%E6%A0%B8%E5%BF%83">Vanilla/官方核心</a></li><li><a href="#spigotpaper%E6%A0%B8%E5%BF%83">Spigot/Paper核心</a></li><li><a href="#forgefabric%E6%A0%B8%E5%BF%83">Forge/Fabric核心</a></li></ul></li><li><a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">常见问题与解决方案</a></li><li><a href="#%E8%BF%9B%E9%98%B6%E4%BC%98%E5%8C%96%E4%B8%8E%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86">进阶优化与插件管理</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BB%B4%E6%8A%A4%E4%B8%8E%E6%9B%B4%E6%96%B0">服务器维护与更新</a></li></ol><hr><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><h3 id="java环境配置" tabindex="-1"><a class="header-anchor" href="#java环境配置"><span>Java环境配置</span></a></h3><h4 id="windows系统" tabindex="-1"><a class="header-anchor" href="#windows系统"><span>Windows系统</span></a></h4><ol><li><strong>下载Java</strong>： <ul><li>访问 <a href="https://adoptium.net/" target="_blank" rel="noopener noreferrer">Adoptium Eclipse Temurin</a>，选择 <strong>JDK 17</strong> → Windows x64 MSI Installer</li></ul></li><li><strong>安装过程</strong>： <ul><li>双击安装包，勾选 <strong>&quot;Add to PATH&quot;</strong>（自动配置环境变量）</li><li>若未勾选，需手动添加路径（例如：<code>C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.5.8-hotspot\\bin</code>）</li></ul></li><li><strong>验证安装</strong>：<div class="language-cmd line-numbers-mode" data-ext="cmd" data-title="cmd"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>java</span><span class="space"> </span><span>-version</span></span>
<span class="line"><span>#</span><span class="space"> </span><span>应显示类似：openjdk</span><span class="space"> </span><span>version</span><span class="space"> </span><span>&quot;17.0.5&quot;</span><span class="space"> </span><span>2022-10-18</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="linux系统" tabindex="-1"><a class="header-anchor" href="#linux系统"><span>Linux系统</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">apt</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">apt</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">install</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">openjdk-17-jdk-headless</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">CentOS/RHEL</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yum</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">install</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">java-17-openjdk-devel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">验证安装</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="服务器核心选择" tabindex="-1"><a class="header-anchor" href="#服务器核心选择"><span>服务器核心选择</span></a></h2><table><thead><tr><th>核心类型</th><th>特点</th><th>推荐版本</th><th>下载方式</th></tr></thead><tbody><tr><td><strong>Vanilla</strong></td><td>官方原版，无优化</td><td>1.20.1</td><td><a href="https://www.minecraft.net/zh-hans/download/server" target="_blank" rel="noopener noreferrer">官网下载</a></td></tr><tr><td><strong>Paper</strong></td><td>高性能，支持插件</td><td>1.20.1</td><td>[官网下载]https://papermc.io/</td></tr><tr><td><strong>Forge</strong></td><td>模组服务器首选</td><td>1.20.1-47.1.0</td><td><a href="https://maven.minecraftforge.net/net/minecraftforge/forge/1.20.1-47.1.0/forge-1.20.1-47.1.0-installer.jar" target="_blank" rel="noopener noreferrer">Forge安装器</a></td></tr><tr><td><strong>Fabric</strong></td><td>轻量级模组支持</td><td>0.14.22</td><td><a href="https://maven.fabricmc.net/net/fabricmc/fabric-installer/0.11.2/fabric-installer-0.11.2.jar" target="_blank" rel="noopener noreferrer">Fabric安装器</a></td></tr></tbody></table><hr><h2 id="linux系统开服教程" tabindex="-1"><a class="header-anchor" href="#linux系统开服教程"><span>Linux系统开服教程</span></a></h2><h3 id="步骤1-初始化服务器环境" tabindex="-1"><a class="header-anchor" href="#步骤1-初始化服务器环境"><span>步骤1：初始化服务器环境</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/minecraft/server</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">~/minecraft/server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="步骤2-获取核心文件-以paper为例" tabindex="-1"><a class="header-anchor" href="#步骤2-获取核心文件-以paper为例"><span>步骤2：获取核心文件（以Paper为例）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">自动获取最新版（需替换版本号）</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">PAPER_VERSION</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.20.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">BUILD_NUMBER</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">100</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.papermc.io/v2/projects/paper/versions/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PAPER_VERSION</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/builds/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">BUILD_NUMBER</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/downloads/paper-</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PAPER_VERSION</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">BUILD_NUMBER</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.jar</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="步骤3-首次启动与配置" tabindex="-1"><a class="header-anchor" href="#步骤3-首次启动与配置"><span>步骤3：首次启动与配置</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">启动服务器（自动生成必要文件）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xmx2G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xms1G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">paper-1.20.1-100.jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nogui</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">同意EULA协议</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nano</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eula.txt</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">修改</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">eula=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">基础配置</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nano</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">server.properties</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="server-properties-关键参数说明" tabindex="-1"><a class="header-anchor" href="#server-properties-关键参数说明"><span><code>server.properties</code> 关键参数说明：</span></a></h4><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>server-port=25565</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>监听端口</span></span>
<span class="line"><span>online-mode=true</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>正版验证（关闭需设置为false）</span></span>
<span class="line"><span>max-players=20</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>最大玩家数</span></span>
<span class="line"><span>view-distance=10</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>视野区块数（降低可优化性能）</span></span>
<span class="line"><span>enable-command-block=true</span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>启用命令方块</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="步骤4-配置系统服务-可选" tabindex="-1"><a class="header-anchor" href="#步骤4-配置系统服务-可选"><span>步骤4：配置系统服务（可选）</span></a></h3><p>创建系统服务文件 <code>/etc/systemd/system/minecraft.service</code>：</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=Minecraft</span><span class="space"> </span><span>Server</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>User=minecraft</span></span>
<span class="line"><span>WorkingDirectory=/opt/minecraft</span></span>
<span class="line"><span>ExecStart=/usr/bin/java</span><span class="space"> </span><span>-Xmx4G</span><span class="space"> </span><span>-Xms2G</span><span class="space"> </span><span>-jar</span><span class="space"> </span><span>paper-1.20.1-100.jar</span><span class="space"> </span><span>nogui</span></span>
<span class="line"><span>Restart=always</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启用服务：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">enable</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">minecraft</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">start</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">minecraft</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="windows系统开服教程" tabindex="-1"><a class="header-anchor" href="#windows系统开服教程"><span>Windows系统开服教程</span></a></h2><h3 id="步骤1-准备运行环境" tabindex="-1"><a class="header-anchor" href="#步骤1-准备运行环境"><span>步骤1：准备运行环境</span></a></h3><ol><li>新建文件夹 <code>C:\\MC_Server</code></li><li>下载核心文件（如 <code>paper-1.20.1-100.jar</code>）放入文件夹</li></ol><h3 id="步骤2-创建启动脚本" tabindex="-1"><a class="header-anchor" href="#步骤2-创建启动脚本"><span>步骤2：创建启动脚本</span></a></h3><p>新建 <code>start.bat</code>，内容如下：</p><div class="language-batch line-numbers-mode" data-ext="batch" data-title="batch"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>@echo</span><span class="space"> </span><span>off</span></span>
<span class="line"><span>title</span><span class="space"> </span><span>Minecraft</span><span class="space"> </span><span>Server</span></span>
<span class="line"><span>java</span><span class="space"> </span><span>-Xmx4G</span><span class="space"> </span><span>-Xms2G</span><span class="space"> </span><span>-XX:+UseG1GC</span><span class="space"> </span><span>-jar</span><span class="space"> </span><span>paper-1.20.1-100.jar</span><span class="space"> </span><span>nogui</span></span>
<span class="line"><span>pause</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="步骤3-配置服务器" tabindex="-1"><a class="header-anchor" href="#步骤3-配置服务器"><span>步骤3：配置服务器</span></a></h3><ol><li>首次运行 <code>start.bat</code> 生成文件</li><li>编辑 <code>eula.txt</code> → <code>eula=true</code></li><li>修改 <code>server.properties</code>（参考Linux配置）</li></ol><h3 id="步骤4-端口转发设置" tabindex="-1"><a class="header-anchor" href="#步骤4-端口转发设置"><span>步骤4：端口转发设置</span></a></h3><ol><li>登录路由器管理页面（通常为 <code>192.168.1.1</code>）</li><li>找到 <strong>端口转发/虚拟服务器</strong> 选项</li><li>添加规则： <ul><li>外部端口：25565</li><li>内部IP：本机局域网IP（如 192.168.1.100）</li><li>协议：TCP/UDP</li></ul></li></ol><hr><h2 id="服务器核心配置详解" tabindex="-1"><a class="header-anchor" href="#服务器核心配置详解"><span>服务器核心配置详解</span></a></h2><h3 id="vanilla-官方核心" tabindex="-1"><a class="header-anchor" href="#vanilla-官方核心"><span>Vanilla/官方核心</span></a></h3><ul><li><strong>配置文件</strong>：<code>server.properties</code></li><li><strong>基础优化</strong>：<div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>network-compression-threshold=256</span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>减少带宽占用</span></span>
<span class="line"><span>max-tick-time=60000</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>防止服务器卡顿重启</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="spigot-paper核心" tabindex="-1"><a class="header-anchor" href="#spigot-paper核心"><span>Spigot/Paper核心</span></a></h3><ul><li><strong><code>spigot.yml</code> 优化</strong>：<div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>save-user-cache-on-stop-only:</span><span class="space"> </span><span>true</span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>减少磁盘IO</span></span>
<span class="line"><span>mob-spawn-range:</span><span class="space"> </span><span>4</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>降低刷怪范围</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong><code>paper.yml</code> 高级设置</strong>：<div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>chunk-ticking:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span>light-update:</span><span class="space"> </span><span>false</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>禁用光照更新（提升TPS）</span></span>
<span class="line"><span>async-chunks:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span>threads:</span><span class="space"> </span><span>2</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>#</span><span class="space"> </span><span>异步区块处理线程数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="forge-fabric核心" tabindex="-1"><a class="header-anchor" href="#forge-fabric核心"><span>Forge/Fabric核心</span></a></h3><h4 id="forge服务端搭建" tabindex="-1"><a class="header-anchor" href="#forge服务端搭建"><span>Forge服务端搭建：</span></a></h4><ol><li>下载对应版本的 <a href="https://files.minecraftforge.net/" target="_blank" rel="noopener noreferrer">Forge安装器</a></li><li>运行安装器：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">forge-1.20.1-47.1.0-installer.jar</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--installServer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>将mod文件放入 <code>./mods</code> 文件夹</li></ol><h4 id="fabric服务端搭建" tabindex="-1"><a class="header-anchor" href="#fabric服务端搭建"><span>Fabric服务端搭建：</span></a></h4><ol><li>下载 <a href="https://fabricmc.net/use/server/" target="_blank" rel="noopener noreferrer">Fabric安装器</a></li><li>生成服务端：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fabric-installer-0.11.2.jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">server</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-mcversion</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.20.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>启动命令需指定fabric主类：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xmx4G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fabric-server-launch.jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nogui</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h2 id="常见问题与解决方案" tabindex="-1"><a class="header-anchor" href="#常见问题与解决方案"><span>常见问题与解决方案</span></a></h2><h3 id="问题1-端口冲突检测" tabindex="-1"><a class="header-anchor" href="#问题1-端口冲突检测"><span>问题1：端口冲突检测</span></a></h3><h4 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows：</span></a></h4><div class="language-batch line-numbers-mode" data-ext="batch" data-title="batch"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>netstat</span><span class="space"> </span><span>-ano</span><span class="space"> </span><span>|</span><span class="space"> </span><span>findstr</span><span class="space"> </span><span>:25565</span></span>
<span class="line"><span>taskkill</span><span class="space"> </span><span>/PID</span><span class="space"> </span><span>&lt;进程ID&gt;</span><span class="space"> </span><span>/F</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux：</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">lsof</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:25565</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kill</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-9</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">进程I</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="问题2-内存溢出处理" tabindex="-1"><a class="header-anchor" href="#问题2-内存溢出处理"><span>问题2：内存溢出处理</span></a></h3><ul><li><strong>调整JVM参数</strong>：<div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-Xmx6G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xms3G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-XX:+UseZGC</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-XX:+ZUncommitDelay=3000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>分析内存快照</strong>： <ol><li>添加JVM参数 <code>-XX:+HeapDumpOnOutOfMemoryError</code></li><li>使用 <a href="https://www.eclipse.org/mat/" target="_blank" rel="noopener noreferrer">Eclipse MAT</a> 分析生成的 <code>.hprof</code> 文件</li></ol></li></ul><h3 id="问题3-玩家连接失败" tabindex="-1"><a class="header-anchor" href="#问题3-玩家连接失败"><span>问题3：玩家连接失败</span></a></h3><ul><li><strong>逐步排查</strong>： <ol><li>本地测试：<code>telnet 127.0.0.1 25565</code></li><li>局域网测试：另一台设备连接服务器内网IP</li><li>公网测试：使用 <a href="https://www.portchecktool.com/" target="_blank" rel="noopener noreferrer">PortCheckTool</a></li></ol></li><li><strong>常见修复</strong>： <ul><li>关闭Windows防火墙：<code>Control Panel → Windows Defender Firewall → Turn off</code></li><li>检查路由器的NAT设置</li></ul></li></ul><hr><h2 id="进阶优化与插件管理" tabindex="-1"><a class="header-anchor" href="#进阶优化与插件管理"><span>进阶优化与插件管理</span></a></h2><h3 id="jvm终极优化参数" tabindex="-1"><a class="header-anchor" href="#jvm终极优化参数"><span>JVM终极优化参数</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">java</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xms6G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-Xmx6G</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+UseG1GC</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+ParallelRefProcEnabled</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:MaxGCPauseMillis=200</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+UnlockExperimentalVMOptions</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+DisableExplicitGC</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+AlwaysPreTouch</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1NewSizePercent=30</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1MaxNewSizePercent=40</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1HeapRegionSize=8M</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1ReservePercent=20</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1HeapWastePercent=5</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1MixedGCCountTarget=4</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:InitiatingHeapOccupancyPercent=15</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1MixedGCLiveThresholdPercent=90</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:G1RSetUpdatingPauseTimePercent=5</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:SurvivorRatio=32</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:+PerfDisableSharedMem</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-XX:MaxTenuringThreshold=1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">paper.jar</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nogui</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="必备插件清单" tabindex="-1"><a class="header-anchor" href="#必备插件清单"><span>必备插件清单</span></a></h3><table><thead><tr><th>插件名称</th><th>功能</th><th>下载地址</th></tr></thead><tbody><tr><td><strong>ClearLag</strong></td><td>自动清理实体/物品</td><td><a href="https://www.spigotmc.org/resources/clearlag.68271/" target="_blank" rel="noopener noreferrer">SpigotMC</a></td></tr><tr><td><strong>CoreProtect</strong></td><td>方块操作记录</td><td><a href="https://www.spigotmc.org/resources/coreprotect.8631/" target="_blank" rel="noopener noreferrer">SpigotMC</a></td></tr><tr><td><strong>EssentialsX</strong></td><td>基础功能套件</td><td><a href="https://essentialsx.net/downloads.html" target="_blank" rel="noopener noreferrer">Essentials</a></td></tr></tbody></table><h3 id="自动备份脚本" tabindex="-1"><a class="header-anchor" href="#自动备份脚本"><span>自动备份脚本</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">BACKUP_DIR</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/opt/minecraft/backups</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">DATE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">date</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">+%Y%m%d-%H%M%S</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">停止服务器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stop</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">minecraft</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">打包存档</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-czf</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$BACKUP_DIR</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/world-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$DATE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.tar.gz</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">world</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">world_nether</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">world_the_end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">启动服务器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">start</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">minecraft</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">删除7天前的备份</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">find</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$BACKUP_DIR</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-type</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">f</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-name</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*.tar.gz</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-mtime</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">+7</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-exec</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rm</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{}</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置定时任务（每天凌晨3点备份）：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">crontab</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-e</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/path/to/backup_script.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="服务器维护与更新" tabindex="-1"><a class="header-anchor" href="#服务器维护与更新"><span>服务器维护与更新</span></a></h2><h3 id="paper核心更新步骤" tabindex="-1"><a class="header-anchor" href="#paper核心更新步骤"><span>Paper核心更新步骤</span></a></h3><ol><li>停止服务器</li><li>备份当前核心文件</li><li>下载新版本：</li><li>替换旧jar文件并重启</li></ol><h3 id="forge模组更新规范" tabindex="-1"><a class="header-anchor" href="#forge模组更新规范"><span>Forge模组更新规范</span></a></h3><ol><li>客户端与服务端的mod版本必须一致</li><li>按顺序操作： <ul><li>关闭服务器</li><li>删除旧mod文件</li><li>放入新mod</li><li>启动测试服验证兼容性</li></ul></li><li>推荐使用 <a href="https://www.curseforge.com/minecraft/mc-mods/modmanager" target="_blank" rel="noopener noreferrer">ModManager</a> 管理模组</li></ol><h3 id="日志监控" tabindex="-1"><a class="header-anchor" href="#日志监控"><span>日志监控</span></a></h3><p>实时查看日志：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tail</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-f</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">logs/latest.log</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-E</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ERROR|WARN</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 <a href="https://github.com/dinnerbone/mcstatus" target="_blank" rel="noopener noreferrer">mcstatus</a> 监控服务器状态：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mcstatus</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">127.0.0.1:25565</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,81)]))}const r=a(p,[["render",l],["__file","index.html.vue"]]),h=JSON.parse('{"path":"/article/owgz4cp5/","title":"通用","lang":"zh-CN","frontmatter":{"title":"通用","createTime":"2025/03/09 20:09:39","permalink":"/article/owgz4cp5/"},"headers":[],"readingTime":{"minutes":5.09,"words":1526},"git":{"updatedTime":1754373079000,"contributors":[{"name":"MIt_gancm","username":"MIt_gancm","email":"wd123456789095r@163.com","commits":2,"avatar":"https://avatars.githubusercontent.com/MIt_gancm?v=4","url":"https://github.com/MIt_gancm"}]},"filePathRelative":"notes/autumn-leaves/详细教程/手动开服/通用.md"}');export{r as comp,h as data};
